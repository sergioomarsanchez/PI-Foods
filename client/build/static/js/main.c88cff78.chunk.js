(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){e.exports={container:"details_container__2xVP7",gifContainer:"details_gifContainer__1VEKV",gif:"details_gif__3QTjO",p:"details_p__3aAVt",img:"details_img__3Jrvj",buttonBack:"details_buttonBack__1HyJ4"}},14:function(e,t,a){e.exports={cardContainer:"recipeCard_cardContainer__tJkQ3",rotates:"recipeCard_rotates__3_Gls",imageContainer:"recipeCard_imageContainer__2p9Pl",img:"recipeCard_img__3O18v",overlay:"recipeCard_overlay__28iGg",slide:"recipeCard_slide__2_0Zc"}},18:function(e,t,a){e.exports={next:"paginado_next__8pZjZ",prev:"paginado_prev__YLpMX",button:"paginado_button__2fHBS",buttonCurr:"paginado_buttonCurr__30Qf_"}},21:function(e,t,a){e.exports={homeContainer:"home_homeContainer__4RTck",navContainer:"home_navContainer__dI1Tx",cardsContainer:"home_cardsContainer__E-oY2",button:"home_button__3D_Xw",loader:"home_loader__1YDOm",panex:"home_panex__3EiQe",eggRst:"home_eggRst__3qKbX"}},25:function(e,t,a){e.exports={container:"landingPage_container__13sDG",video:"landingPage_video__ecc7X",h1:"landingPage_h1__3zxUK",linkHome:"landingPage_linkHome__3h7bP"}},30:function(e,t,a){e.exports={container:"searchBar_container__19fD_",button:"searchBar_button__pk2As",input:"searchBar_input__1q7zm"}},31:function(e,t,a){e.exports={order:"filterDiet_order__34QRx",label:"filterDiet_label__TxSyL",select:"filterDiet_select__21Ut_"}},32:function(e,t,a){e.exports={order:"order_order__2xpfE",label:"order_label__3nVFm",select:"order_select__3bVm6"}},33:function(e,t,a){e.exports={order:"orderByHS_order__1etLm",label:"orderByHS_label__2vHev",select:"orderByHS_select__19VfY"}},58:function(e,t,a){},59:function(e,t,a){},6:function(e,t,a){e.exports={container:"addRecipe_container__3vh2O",form:"addRecipe_form__15cZP",errorDiv:"addRecipe_errorDiv__3MaDu",inputs:"addRecipe_inputs__3k_sB",checkbox:"addRecipe_checkbox__1J8wz",checkboxLbl:"addRecipe_checkboxLbl__3aZAo",summary:"addRecipe_summary__-_hqg",steps:"addRecipe_steps__YsxAZ",buttonBack:"addRecipe_buttonBack__1SedH"}},92:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(27),s=a.n(r),i=(a(58),a(59),a(15)),o=a(5),l=a(38),d=a(50),j=a(17),u=a.n(j),b="FETCH_RECIPES",h="POST_RECIPE",p="SORT",m="FILTER_DIETS",O="GET_DIETS",x="SORT_BY:HS",f="SEARCH_RECIPE",_="GET_DETAIL",v="CLEAN_RECIPE";function g(){return function(e){u.a.get("http://localhost:3001/api/diets").then((function(t){e({type:O,payload:t.data})})).catch((function(e){return alert(e.response.data.msg)}))}}function y(e){return{type:m,payload:e}}var N=a(8),S=a(14),C=a.n(S),R=a(0);function k(e){var t=e.id,a=e.name,c=e.diets,n=e.image,r=e.type,s=e.healthScore;return Object(R.jsx)("div",{className:C.a.cardContainer,children:Object(R.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/home/recipe/".concat(t),children:Object(R.jsxs)("div",{className:C.a.imageContainer,children:[Object(R.jsx)("h3",{className:C.a.name,children:a}),Object(R.jsx)("img",{className:C.a.img,src:n,alt:"Img de receta"}),Object(R.jsxs)("section",{className:C.a.overlay,children:[Object(R.jsx)("h6",{className:C.a.slide,children:"-- Click for more info... --"}),Object(R.jsxs)("h4",{className:C.a.slide,children:["Health Score: ",s]}),Object(R.jsxs)("h5",{className:C.a.slide,children:["Diet Types: ",null===c||void 0===c?void 0:c.map((function(e){return Object(R.jsxs)("span",{className:C.a.dietSpan,children:["-",e,"-"]})}))]}),Object(R.jsx)("br",{}),Object(R.jsxs)("h5",{className:C.a.slide,children:["Dish Types: ",null===r||void 0===r?void 0:r.map((function(e){return Object(R.jsxs)("span",{className:C.a.typeSpan,children:["-",e,"-"]})}))]})]})]})})},t)}var P=a(30),D=a.n(P);function E(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(o.b)();return Object(R.jsx)("div",{className:D.a.container,children:Object(R.jsxs)("form",{onSubmit:function(e){var t,c;e.preventDefault(),console.log(a),!isNaN(Number(a))||a.includes("-")?(console.log("entr\xe9 a search por id con "+a),r((c=a,function(e){u.a.get("http://localhost:3001/api/recipes/".concat(c)).then((function(t){e({type:f,payload:[t.data]})})).catch((function(e){return alert(e.response.data.msg)}))})),n("")):a&&(console.log("entr\xe9 a search por name con "+a),r((t=a,function(e){u.a.get("http://localhost:3001/api/recipes?name=".concat(t)).then((function(t){e({type:f,payload:t.data})})).catch((function(e){return alert(e.response.data.msg)}))})),n(""))},children:[Object(R.jsx)("input",{className:D.a.input,type:"text",onChange:function(e){n(e.target.value)},value:a,placeholder:"Search Recipe"}),Object(R.jsx)("input",{className:D.a.button,disabled:!a||""===a,type:"submit",value:"Search"})]})})}var T=a(31),B=a.n(T);function H(){var e=Object(o.b)();Object(c.useEffect)((function(){e(g())}),[]);var t=Object(o.c)((function(e){return e.diets}));return Object(R.jsxs)("section",{className:B.a.order,children:[Object(R.jsx)("label",{className:B.a.label,htmlFor:"select",children:"Filter by Diet type"}),Object(R.jsxs)("select",{className:B.a.select,id:"select",name:"select",onChange:function(t){e(y(t.target.value))},children:[Object(R.jsx)("option",{children:"No filter"},"sin filtro"),t?t.map((function(e){return Object(R.jsx)("option",{value:"Low FODMAP"===e.name?"fodmap friendly":"Paleo"===e.name?"paleolithic":e.name.toLowerCase(),children:e.name},e.id)})):"No hay dietas declaradas"]})]})}var L=a(32),w=a.n(L);function F(){var e=Object(o.b)();return Object(R.jsxs)("section",{className:w.a.order,children:[Object(R.jsx)("label",{className:w.a.label,htmlFor:"orderName",children:"Name: "}),Object(R.jsxs)("select",{className:w.a.select,id:"orderName",name:"select",onChange:function(t){var a;e((a=t.target.value,{type:p,payload:a}))},children:[Object(R.jsx)("option",{value:"ordenar",children:"Order by name..."}),Object(R.jsx)("option",{value:"ascendente",children:"A-Z"}),Object(R.jsx)("option",{value:"descendente",children:"Z-A"})]})]})}var A=a(33),I=a.n(A);function M(){var e=Object(o.b)();return Object(R.jsxs)("section",{className:I.a.order,children:[Object(R.jsx)("label",{className:I.a.label,htmlFor:"selectHSOrder",children:"Health Score"}),Object(R.jsxs)("select",{className:I.a.select,name:"selectHSOrder",onChange:function(t){var a;e((a=t.target.value,{type:x,payload:a}))},children:[Object(R.jsx)("option",{value:"order",children:"Order by Health Score..."}),Object(R.jsx)("option",{value:"ascendente",children:"Min-Max"}),Object(R.jsx)("option",{value:"descendente",children:"Max-Min"})]})]})}var q=a(18),Z=a.n(q);function V(e){for(var t=e.recipesPerPage,a=e.recipes,c=e.setCurrentPage,n=e.currentPage,r=[],s=1;s<=Math.ceil(a/t);s++)r.push(s);return Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{className:Z.a.button,id:Z.a.prev,onClick:function(){return c((function(e){return 1!==e?e-1:e}))},children:"Prev"}),r&&r.map((function(e,t){return Object(R.jsx)("button",{className:n===t+1?Z.a.buttonCurr:Z.a.button,onClick:function(){return c(e)},children:e},t)})),Object(R.jsx)("button",{className:Z.a.button,id:Z.a.next,onClick:function(){return c((function(e){return e!==r.length?e+1:e}))},children:"Next"})]})}var Y=a(21),J=a.n(Y);function G(){var e=Object(o.c)((function(e){return e.recipes})),t=Object(o.c)((function(e){return e.filteredRecipes})),a=Object(c.useState)(1),n=Object(i.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(9),d=Object(i.a)(l,2),j=d[0],h=(d[1],r*j),p=h-j,m=t.length?null===t||void 0===t?void 0:t.slice(p,h):null===e||void 0===e?void 0:e.slice(p,h),O=Object(o.b)();return Object(c.useEffect)((function(){s(1)}),[t]),Object(c.useEffect)((function(){e.length||O((function(e){u.a.get("http://localhost:3001/api/recipes/").then((function(t){e({type:b,payload:t.data})})).catch((function(e){return alert(e.response.data.msg)}))}))}),[]),Object(R.jsxs)("div",{className:J.a.homeContainer,children:[Object(R.jsx)(N.b,{to:"/addRecipe",children:Object(R.jsx)("button",{className:J.a.button,children:"Create your Recipe!"})}),Object(R.jsxs)("nav",{className:J.a.navContainer,children:[Object(R.jsx)(F,{}),Object(R.jsx)(M,{}),Object(R.jsx)(H,{}),Object(R.jsx)(E,{})]}),Object(R.jsx)("button",{className:J.a.button,onClick:function(e){e.preventDefault(),O(y("No filter")),window.location.reload(!1)},children:"Reset Recipes"}),Object(R.jsx)(V,{recipesPerPage:j,recipes:t.length?t.length:e.length,setCurrentPage:function(e){s(e)},currentPage:r}),m.length?Object(R.jsx)("div",{className:J.a.cardsContainer,children:null===m||void 0===m?void 0:m.map((function(e){return e.id.length>6?Object(R.jsx)(k,{id:e.id,name:e.name,diets:e.diets.map((function(e){return e.name.toLowerCase()})),image:"https://i.pinimg.com/736x/7c/30/0d/7c300d26bc4a08e1cd78828a16c5ccca.jpg",type:[""],healthScore:e.healthScore}):Object(R.jsx)(k,{id:e.id,name:e.name,diets:e.diets,image:e.image,type:e.type,healthScore:e.healthScore})}))}):Object(R.jsx)("span",{className:"loader"})]})}var Q=a(4),X=a(25),z=a.n(X),K=a.p+"static/media/Food Reel 2019.69b260fb.mp4";function U(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:z.a.container,children:[Object(R.jsxs)(N.b,{to:"/home",children:[Object(R.jsx)("h1",{className:z.a.linkHome,children:"The food app"}),Object(R.jsx)("h1",{className:z.a.h1,children:"Let's get started"})]}),Object(R.jsx)("video",{className:z.a.video,loop:!0,autoPlay:!0,muted:!0,children:Object(R.jsx)("source",{src:K,type:"video/mp4"})})]})})}var W=a(16),$=a(24),ee=a(2),te=a(6),ae=a.n(te);function ce(e){var t={};return e.name||(t.name="A name is required"),e.summary||(t.summary="A summary of your recipe is required"),e.healthScore||(t.healthScore="The health score of your recipe is required"),e.steps||(t.steps="The steps of your recipe is required"),e.diets.length||(t.diets="At least one type of diet is required"),isNaN(Number(e.healthScore))?t.healthScore="The health score must be a number":(e.healthScore>100||e.healthScore<1)&&(t.healthScore="The health score must be a number between 1 and 100"),t}function ne(){var e=Object(o.b)();Object(c.useEffect)((function(){e(g())}),[]);var t=Object(Q.f)(),a=Object(o.c)((function(e){return e.diets})),n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],j=r[1],b=Object(c.useState)({name:"",summary:"",healthScore:"",steps:"",diets:[]}),h=Object(i.a)(b,2),p=h[0],m=h[1];function O(e){m(Object(ee.a)(Object(ee.a)({},p),{},Object($.a)({},e.target.name,e.target.value))),j(ce(Object(ee.a)(Object(ee.a)({},p),{},Object($.a)({},e.target.name,e.target.value))))}function x(a){var c;a.preventDefault(),p.name=p.name.charAt(0).toUpperCase()+p.name.slice(1),console.log(p),e((c=p,Object(d.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("http://localhost:3001/api/recipes",c);case 2:return t=e.sent,e.t0=console,e.next=6,t;case 6:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=10,t;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))))),alert("Your recipe has been created!!"),m({name:"",summary:"",healthScore:"",steps:"",diets:[]}),t.push("/home")}return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(N.b,{to:"/home",children:[Object(R.jsx)("button",{id:ae.a.buttonBack,className:ae.a.buttonBack,children:"Back to home"})," "]}),Object(R.jsxs)("div",{className:ae.a.container,children:[Object(R.jsx)("h1",{children:"Create your Recipe!"}),Object(R.jsxs)("form",{className:ae.a.form,onSubmit:function(e){return x(e)},children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{children:"Name: "})," ",Object(R.jsx)("br",{}),Object(R.jsx)("input",{className:ae.a.inputs,type:"text",placeholder:"e.g. Tiramis\xfa",value:p.name,name:"name",onChange:function(e){return O(e)}}),s.name?Object(R.jsxs)("div",{className:ae.a.errorDiv,children:["*",s.name]}):null]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{children:"Health Socre (1-100): "}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{className:ae.a.inputs,type:"text",placeholder:"1-100",value:p.healthScore,name:"healthScore",onChange:function(e){return O(e)}}),s.healthScore?Object(R.jsxs)("div",{className:ae.a.errorDiv,children:["*",s.healthScore]}):null]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{children:"Summary: "}),Object(R.jsx)("br",{})," ",Object(R.jsx)("input",{id:ae.a.summary,className:ae.a.inputs,type:"text",placeholder:"summary",value:p.summary,name:"summary",onChange:function(e){return O(e)}}),s.summary?Object(R.jsxs)("div",{className:ae.a.errorDiv,children:["*",s.summary]}):null]}),Object(R.jsx)("label",{children:"Steps: "}),Object(R.jsx)("input",{id:ae.a.steps,className:ae.a.inputs,type:"text",placeholder:"steps",value:p.steps,name:"steps",onChange:function(e){return O(e)}}),s.steps?Object(R.jsxs)("div",{className:ae.a.errorDiv,children:["*",s.steps]}):null,Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Pick type of diet/s"}),s.diets?Object(R.jsxs)("div",{className:ae.a.errorDiv,children:["*",s.diets]}):null]}),Object(R.jsxs)("div",{children:[null===a||void 0===a?void 0:a.map((function(e){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("input",{className:ae.a.checkbox,id:e.name,type:"checkbox",onChange:function(e){return function(e){e.target.checked?(m(Object(ee.a)(Object(ee.a)({},p),{},{diets:[].concat(Object(W.a)(p.diets),[e.target.value])})),j(ce(Object(ee.a)(Object(ee.a)({},p),{},{diets:[].concat(Object(W.a)(p.diets),[e.target.value])})))):(m(Object(ee.a)(Object(ee.a)({},p),{},{diets:p.diets.filter((function(t){return t!==e.target.value}))})),j(ce(Object(ee.a)(Object(ee.a)({},p),{},{diets:p.diets.filter((function(t){return t!==e.target.value}))}))))}(e)},value:"Low FODMAP"===e.name?"fodmap friendly":"Paleo"===e.name?"paleolithic":e.name.toLowerCase()}),Object(R.jsx)("label",{className:ae.a.checkboxLbl,htmlFor:e.name,children:e.name},e.name)]})})),Object(R.jsx)("input",{className:ae.a.buttonBack,type:"submit",disabled:0!==Object.keys(s).length||!p.name,value:"Add your Recipe"})]})]})]})]})}var re=a(13),se=a.n(re);function ie(e){var t,a,n,r;console.log(e);var s=Object(o.b)();Object(c.useEffect)((function(){var t;s((t=e.match.params.id,function(e){u.a.get("http://localhost:3001/api/recipes/".concat(t)).then((function(t){e({type:_,payload:t.data})})).catch((function(e){return alert(e.response.data.msg)}))}))}),[]),Object(c.useEffect)((function(){return s({type:v,payload:e});var e}),[]);var i=Object(o.c)((function(e){return e.recipe}));return console.log(i),Object(R.jsxs)("div",{children:[Object(R.jsxs)(N.b,{to:"/home",children:[Object(R.jsx)("button",{id:se.a.buttonBack,className:se.a.buttonBack,children:"Back to home"})," "]}),Object.keys(i).length?isNaN(Number(i.id))?Object(R.jsxs)("div",{className:se.a.container,children:[Object(R.jsxs)("h2",{children:["Recipe Name: ",i.name]}),Object(R.jsxs)("span",{children:["Health Score ",i.healthScore]}),Object(R.jsx)("h4",{children:null===(t=i.diets)||void 0===t?void 0:t.map((function(e){return Object(R.jsx)("span",{children:e.name})}))}),Object(R.jsx)("img",{className:se.a.img,src:"https:i.pinimg.com/736x/7c/30/0d/7c300d26bc4a08e1cd78828a16c5ccca.jpg",alt:"recipeImg"}),Object(R.jsxs)("p",{className:se.a.p,children:["Summary: ",i.summary]}),Object(R.jsxs)("p",{className:se.a.p,children:["Steps: ",i.steps]})]}):Object(R.jsxs)("div",{className:se.a.container,children:[Object(R.jsxs)("h2",{children:["Recipe Name: ",i.name]}),Object(R.jsxs)("span",{children:["Health Score ",i.healthScore]}),Object(R.jsx)("h4",{children:null===(a=i.diets)||void 0===a?void 0:a.map((function(e){return Object(R.jsx)("span",{children:e})}))}),Object(R.jsx)("img",{className:se.a.img,src:i.image,alt:"recipeImg"}),Object(R.jsxs)("p",{className:se.a.p,children:["Summary: ",null===(n=i.summary)||void 0===n?void 0:n.replace(/<[^>]+>/g,"")]}),Object(R.jsxs)("p",{className:se.a.p,children:["Steps: ",null===(r=i.steps)||void 0===r?void 0:r.replace(/<[^>]+>/g,"")]})]}):Object(R.jsxs)("div",{className:se.a.gifContainer,children:[Object(R.jsx)("h3",{children:"Loading..."}),Object(R.jsx)("img",{className:se.a.gif,src:"https://i.pinimg.com/originals/55/35/1c/55351c797f0f2edb3b8686a3e81c996a.gif",alt:"gif de carga"})]})]})}var oe=function(){return Object(R.jsx)(N.a,{children:Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)(Q.c,{children:[Object(R.jsx)(Q.a,{exact:!0,path:"/",component:U}),Object(R.jsx)(Q.a,{exact:!0,path:"/home",component:G}),Object(R.jsx)(Q.a,{exact:!0,path:"/home/recipe/:id",component:ie}),Object(R.jsx)(Q.a,{exact:!0,path:"/addRecipe",component:ne})]})})})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},de=a(29),je=a(52),ue={recipes:[],diets:[],filteredRecipes:[],recipe:{},msg:""};var be=a(53),he=Object(de.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return console.log(t.payload),Object(ee.a)(Object(ee.a)({},e),{},{recipes:t.payload,filteredRecipes:t.payload});case f:return console.log(t.payload),Object(ee.a)(Object(ee.a)({},e),{},{filteredRecipes:t.payload});case p:var a=Object(W.a)(e.filteredRecipes);return a=a.sort((function(e,a){return e.name<a.name?"ascendente"===t.payload?-1:1:e.name>a.name?"ascendente"===t.payload?1:-1:0})),Object(ee.a)(Object(ee.a)({},e),{},{filteredRecipes:a});case x:var c=Object(W.a)(e.filteredRecipes);return c=c.sort((function(e,a){return e.healthScore<a.healthScore?"ascendente"===t.payload?-1:1:e.healthScore>a.healthScore?"ascendente"===t.payload?1:-1:0})),Object(ee.a)(Object(ee.a)({},e),{},{filteredRecipes:c});case m:if("No filter"===t.payload)return Object(ee.a)(Object(ee.a)({},e),{},{filteredRecipes:Object(W.a)(e.recipes)});var n=Object(W.a)(e.recipes);return n=n.filter((function(e){return e.id.length>6?e.diets.map((function(e){return e.name.toLowerCase()})).includes(t.payload.toLowerCase()):e.diets.includes(t.payload.toLowerCase())})),Object(ee.a)(Object(ee.a)({},e),{},{filteredRecipes:n});case O:return Object(ee.a)(Object(ee.a)({},e),{},{diets:t.payload});case h:return Object(ee.a)({},e);case _:return Object(ee.a)(Object(ee.a)({},e),{},{recipe:t.payload});case v:return Object(ee.a)(Object(ee.a)({},e),{},{recipe:[]});default:return e}}),Object(je.composeWithDevTools)(Object(de.applyMiddleware)(be.a))),pe=he;s.a.render(Object(R.jsx)(n.a.StrictMode,{children:Object(R.jsx)(N.a,{children:Object(R.jsx)(o.a,{store:pe,children:Object(R.jsx)(oe,{})})})}),document.getElementById("root")),le()}},[[92,1,2]]]);
//# sourceMappingURL=main.c88cff78.chunk.js.map